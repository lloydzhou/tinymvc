<?php class userController {	function initTable(){		ActiveRecord::execute("			CREATE TABLE IF NOT EXISTS `user` (				id INTEGER PRIMARY KEY, 				name TEXT,				password TEXT,				profile TEXT,				salt TEXT			);"		);		redirect('/user/index');	}	function index() {		$user = new User();	    $user_list = $user->findAll();		$count = count($user_list);		render('user/index', array('count' => $count, 'user_list' => $user_list), 'layout');	}	function create() {		$user = new User();		if (!empty($_POST)) {			$user->name = params('name');			$user->password = params('password');			$user->profile = params('profile');			if ($user->insert())			redirect('/user/index');		}		render('user/create', array('user' => $user), 'layout');	}	function update() {		$user = $this->_getUser();		if (!empty($_POST)) {			$user->name = params('name');			$user->password = params('password');			$user->profile = params('profile');			var_dump($user);			if ($user->update())				redirect('/user/view/id/'. $user->id);		}		render('user/update', array('user' => $user), 'layout');	}	public function delete() {		$user = $this->_getUser();		if ($user->delete())			render('user/delete', array('message' => "Delete User #{$user->id} SUCCESS."));		else render('user/delete', array('message' => "Fail to delete User #{$user->id}."));	}	function view() {		$user = $this->_getUser();		render('user/view', array('user' => $user), 'layout');	}	protected function _getUser() {		if (!($id = params('id')))			error(404, 'Bad Request.');		if (!($user = (new User)->find($id)))			error(404, 'Record not found.');		return $user;	}}