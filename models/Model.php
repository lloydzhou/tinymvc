<?php /** * wrapper class of ORM.  * */class Model {	/**	 * stored table name.	 */	public $table;	/**	 * stored the ORM object.	 */	public $orm = null;	public function __construct($tableName, $data = null) {		$this->table = $tableName;		$this->orm = ORM::for_table($tableName)->create($data);	}	/**	 * magic function to call method from ORM.	 */	public function __call($name, $arguments) {		return call_user_func_array(array($this->orm, $name), $arguments);	}	/**	 * magic function to get prototype from ORM.	 */	public function __get($name) {		return call_user_func(array($this->orm, '__get'), $name);	}	/**	 * magic function to set prototype to ORM.	 */	public function __set($name, $value) {		if ('attributes' === $name) {				foreach((array)$value as $key => $val)				$this->orm->$key = $val;			return true;		}		return call_user_func(array($this->orm, '__set'), $name, $value);	}	/**	 * helper function to insert new records in to database	 */	public function insert($data = array()) {		$this->attributes = $data;		return $this->orm->save();	}	/**	 * helper function to update records in to database	 */	public function update($data = array()) {		$this->attributes = $data;		return $this->orm->save();	}	/**	 * helper function to get one records, by using primary key "id".	 */	public function find($id = null) {		$this->orm = ORM::for_table($this->table)->find_one($id);		return $this;	}	/**	 * helper function to get all records.	 */	public function findAll() {		return ORM::for_table($this->table)->find_many();	}}